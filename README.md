# devops-netology

# 05-virt-01-basics

## Задача 1
Опишите кратко, в чём основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.
Ответ:
    Полная (аппаратная) виртуализация:

В этом типе виртуализации используется гипервизор (VMM), который создает изолированные виртуальные машины (ВМ) поверх реального аппаратного обеспечения.
Виртуальные машины работают как независимые экземпляры операционных систем, и каждая из них имеет свои собственные ресурсы и ядра.
Гостевые операционные системы на ВМ могут быть различными и даже несовместимыми с хостовой операционной системой.
Полная виртуализация обеспечивает высокую степень изоляции между ВМ, но может иметь небольшую накладную нагрузку из-за сложности гипервизора.
    
    Паравиртуализация:

В этом методе гостевые операционные системы модифицируются для совместной работы с гипервизором.
Гипервизор предоставляет набор API, с помощью которых гостевые ОС могут взаимодействовать с ним и управлять ресурсами.
Поскольку гостевые ОС знают о своей виртуализации, они более эффективно используют ресурсы и имеют меньшую накладную нагрузку по сравнению с полной виртуализацией.
Паравиртуализация требует модификации гостевых ОС, что может ограничить выбор поддерживаемых ОС.
    
    Виртуализация на основе ОС:

Также известна как контейнерная виртуализация.
Основана на разделении и изоляции процессов внутри одной операционной системы.
Контейнеры используют общее ядро ОС, но изолируют свои файловые системы, библиотеки и ресурсы.
Эффективны в использовании ресурсов и обладают малой накладной нагрузкой, но менее изолированы, чем полная или паравиртуализация.
Подходит для приложений, требующих высокой плотности развертывания и быстрого масштабирования.
Каждый из этих методов виртуализации имеет свои преимущества и ограничения, и выбор зависит от конкретных потребностей и сценариев использования.

## Задача 2
Ответ:

Для каждого из условий использования я выберу наиболее подходящий вариант организации серверов:

1. Высоконагруженная база данных, чувствительная к отказу:
Вариант: Полная (аппаратная) виртуализация
Обоснование: Полная виртуализация обеспечит высокую степень изоляции между виртуальными машинами, что важно для высоконагруженных баз данных. Гипервизор будет управлять выделением ресурсов и обеспечивать надежность, что снизит риск отказов и поможет в управлении чувствительными данными.

2. Различные web-приложения:
Вариант: Виртуализация на основе ОС (контейнеризация)
Обоснование: Контейнеры предоставляют легковесную изоляцию между приложениями и эффективно используют ресурсы. Для различных веб-приложений, требующих быстрого развертывания и масштабирования, контейнеризация обеспечивает хорошее соотношение производительности и изоляции.

3. Windows-системы для использования бухгалтерским отделом:
Вариант: Виртуализация уровня ОС
Обоснование: Виртуализация уровня ОС позволяет запускать несколько изолированных экземпляров одной операционной системы на одном хосте. Для Windows-систем, например, в бухгалтерском отделе, где требуется работа с различными приложениями, виртуализация уровня ОС может быть более эффективной и экономичной.

4. Системы, выполняющие высокопроизводительные расчёты на GPU:
Вариант: Паравиртуализация
Обоснование: Паравиртуализация позволяет максимально эффективно использовать ресурсы хостовой системы, включая GPU. Это особенно важно для высокопроизводительных расчетов на GPU, где необходима близкая к максимальной производительность при минимальной накладной нагрузке. Гостевые операционные системы могут взаимодействовать непосредственно с аппаратной частью, оптимизированной для вычислений.

## Задача 3
Ответ:

Для каждого из сценариев я выберу подходящую систему управления виртуализацией:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, программные балансировщики нагрузки, репликация данных, резервные копии:
Выбор: VMware vSphere
Обоснование: VMware vSphere предоставляет широкий спектр функций для управления виртуализированными инфраструктурами. Он поддерживает как Linux, так и Windows виртуальные машины. Виртуальные сети, балансировка нагрузки, репликация данных и резервное копирование являются стандартными функциями в vSphere. Это позволит управлять инфраструктурой с разнообразными задачами в одной системе.

2. Производительное open source-решение для виртуализации небольшой инфраструктуры на базе Linux и Windows:
Выбор: Proxmox Virtual Environment
Обоснование: Proxmox VE - это интегрированное решение с виртуализацией на основе контейнеров (LXC) и гипервизором KVM. Он поддерживает как Linux, так и Windows виртуальные машины. Proxmox VE известен своей простотой в использовании, производительностью и поддержкой важных функций, таких как репликация, резервное копирование и мониторинг.

3. Бесплатное, совместимое и производительное решение для виртуализации Windows-инфраструктуры:
Выбор: Hyper-V
Обоснование: Hyper-V - гипервизор от Microsoft, который входит в состав Windows Server. Он обеспечивает хорошую производительность для виртуализации Windows-инфраструктуры и поддерживает широкий спектр функций, включая сетевые возможности, мониторинг и управление.

4. Рабочее окружение для тестирования на разных дистрибутивах Linux:
Выбор: VirtualBox
Обоснование: VirtualBox - это бесплатное и простое в использовании решение для создания виртуальных машин. Оно поддерживает множество дистрибутивов Linux и позволяет быстро разворачивать и тестировать окружения на разных системах без необходимости в сложной настройке.

## Задача 4
Ответ:

Гетерогенная среда виртуализации, то есть использование нескольких систем управления виртуализацией одновременно, может внести сложности и привести к ряду проблем:

1. **Сложность управления**: Каждая система виртуализации имеет свои собственные интерфейсы, настройки и методы управления. Управление гетерогенной средой потребует от администраторов высокой экспертизы и больше времени на обучение и обслуживание.

2. **Совместимость**: Разные системы виртуализации могут иметь ограничения в совместимости между собой, что может привести к проблемам с перемещением виртуальных машин, обменом данными и другими аспектами инфраструктуры.

3. **Безопасность**: Гетерогенная среда может создать дополнительные уязвимости и риски для безопасности. Различные системы могут иметь разные уровни защиты, что может создать дыры в безопасности при некорректной конфигурации.

4. **Производительность**: В случае гетерогенной среды, ресурсы могут быть неоптимально распределены между разными системами. Это может привести к недостаточной производительности в определенных случаях.

5. **Сложность мониторинга**: Следить за состоянием и производительностью нескольких разнородных систем может быть сложно, особенно если у каждой системы есть свои инструменты мониторинга.

Для минимизации этих рисков и проблем следует предпринять следующие шаги:

* **Централизованное** управление: Использовать инструменты, которые позволяют централизованно управлять и мониторить различные системы виртуализации.

* **Стандартизация**: При необходимости гетерогенной среды следует стандартизировать настройки, процедуры и методы управления для уменьшения сложности.

* **Тщательное планирование**: Перед внедрением гетерогенной среды необходимо провести тщательный анализ требований и возможностей, чтобы определить, какие системы лучше всего подходят для конкретных задач.

* **Обучение и обслуживание**: Предоставить администраторам обучение по всем используемым системам и регулярно обновлять их знания.

Относительно создания гетерогенной среды, решение зависит от конкретных потребностей и ограничений организации. В некоторых случаях, использование разных систем виртуализации может быть оправданным для определенных задач. Например:

* Если в организации уже есть опытные специалисты по разным системам виртуализации и каждая система лучше всего подходит для определенных задач.
* Если требуется использовать функции, которые доступны только в определенных системах виртуализации (например, некоторые расширенные возможности VMware для резервных копий и восстановления).
* Если бюджет и ресурсы позволяют эффективно управлять гетерогенной средой без серьезных ограничений.
В большинстве случаев, однако, стремление к упрощению управления и минимизации сложности может склонить к выбору более однородной среды виртуализации.